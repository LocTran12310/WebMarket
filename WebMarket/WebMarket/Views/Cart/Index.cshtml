@model List<WebMarket.Models.CartItem>
@{
    Layout = "_Layout";
    ViewData["Title"] = "Index";

}
@section css{
    <link href="~/css/Cart.css" rel="stylesheet" />
}
<div class="checkout">
    <div class="container"> 
        <div class="checkout-right">
            @using WebMarket.Helpers
            @{
                var data = Context.Session.Get<List<CartItem>>("GioHang");
                if (data == null) { data = new List<CartItem>(); }
            }
            @if (data.Sum(c => c.Quantity) == 0)
            {
                <h2>
                    Your shopping cart contains:
                    <span>0 Products</span>
                </h2>
            }
            else
            {
                <h2>
                    Your shopping cart contains:
                    <span>@data.Sum(c => c.Quantity) Products</span>
                </h2>
                <table class="timetable_sub">
                    <thead> <tr> <th>SL No.</th> <th>Product</th> <th>Quality</th> <th>Product Name</th> <th>Price</th> <th>Remove</th> </tr> </thead>
                    @foreach (var item in Model)
                    {

                        <tr class="rem1">
                            <td class="invert">1</td>
                            <td class="invert-image">
                                <a href="single.html"> <img src="~/images/img-products/@item.Image" alt=" " class="img-responsive" /></a>
                            </td>
                            <td class="invert">
                                <div class="cart-products__qty"> <div class="qtty"> <span class="qty-decrease">-</span> <input type="tel" class="qty-input" value="@item.Quantity" data-masp='@item.Id' min="1" max="100"> <span class="qty-increase">+</span> </div> </div>
                            </td>
                            <td class="invert">@item.Name</td>
                            <td class="invert">@item.Price</td>
                            <td class="invert"> <div class="rem"> <div class="close1 cart-products__del" data-masp='@item.Id'></div> </div> </td>
                        </tr>

                    }
                </table>
            }
        </div> 
        <div class="checkout-left"> 
            <div class="checkout-left-basket"> <h4>Continue to basket</h4> 
                @{ foreach (var item1 in Model)
                    { 
                        <ul> 
                            <li class="@item1.Id">@item1.Name <i>-</i> <span> @item1.NewPrice</span></li>
                        </ul> 
                    } 
                }
            <span class="prices__text">Thành tiền</span> 
            <span class="prices__value--final"> @ViewBag.TongTien đ </span> 
            </div> 
            
            <div class="clearfix"> </div> 
        </div>
    </div>
</div>
@section Scripts{<script src="~/js/cart-method.js"></script> }